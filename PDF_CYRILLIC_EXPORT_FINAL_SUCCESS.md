# üéâ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –≠–ö–°–ü–û–†–¢–ê PDF –° –ö–ò–†–ò–õ–õ–ò–¶–ï–ô - –ó–ê–í–ï–†–®–ï–ù–û

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

**–ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ PDF —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∞–ª –Ω–µ—á–∏—Ç–∞–µ–º—ã–µ –∏–µ—Ä–æ–≥–ª–∏—Ñ—ã –≤–º–µ—Å—Ç–æ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

**–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ jsPDF.

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏.

---

## üõ†Ô∏è –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `fontGenerator.ts` ‚úÖ
**–§–∞–π–ª**: `ecotrack-frontend/src/utils/fontGenerator.ts`

**–§—É–Ω–∫—Ü–∏–∏**:
- `initCyrillicFont(doc)` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UTF-8 –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- `addCyrillicText(doc, text, x, y, options)` - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- `prepareCyrillicText(text)` - —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –∫–∞–∫ fallback
- `testCyrillicSupport(doc)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**:
1. –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä—è–º–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã (UTF-8)
2. –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è (–ê‚ÜíA, –ë‚ÜíB, –∏ —Ç.–¥.)
3. ASCII –∑–∞–º–µ–Ω–∞ (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞ ‚Üí ?)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleExportAnalytics` ‚úÖ
**–§–∞–π–ª**: `ecotrack-frontend/src/App.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç jsPDF –∏ fontGenerator
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞
- ‚úÖ –ó–∞–º–µ–Ω–∞ `doc.text()` –Ω–∞ `addCyrillicText()`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 3. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `exportYearlyReport` ‚úÖ
**–§–∞–π–ª**: `ecotrack-frontend/src/utils/api.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –≥–æ–¥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤–æ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 4. –£–ª—É—á—à–µ–Ω–∞ `handleExportYearlyReport` ‚úÖ
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º API –º–µ—Ç–æ–¥–æ–º
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã

---

## üß™ –°–¢–ê–¢–£–° –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- ‚úÖ Frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
- ‚ö†Ô∏è –ï—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –∏–º–ø–æ—Ä—Ç–∞—Ö (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã ‚úÖ
- ‚úÖ `fontGenerator.ts` —Å–æ–∑–¥–∞–Ω —Å TypeScript —Ç–∏–ø–∞–º–∏
- ‚úÖ –í—Å–µ —ç–∫—Å–ø–æ—Ä—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ App.tsx –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ api.ts –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

## üéØ –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```
http://localhost:3000
```

### –®–∞–≥ 2: –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- Email: admin@ecotrack.com
- Password: admin123

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞"**
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **"–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF"**
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–¥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–§–∏–Ω–∞–Ω—Å—ã"**
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **"–≠–∫—Å–ø–æ—Ä—Ç –≥–æ–¥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞"**
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

---

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –£—Å–ø–µ—à–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- ‚úÖ PDF —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Ç–∞–µ–º—ã–π —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —á–∏—Ç–∞–µ–º—ã
- ‚úÖ –ù–µ—Ç –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤ –∏–ª–∏ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

### Fallback –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- üîÑ –ï—Å–ª–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è
- üîÑ –í –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ: –∑–∞–º–µ–Ω–∞ –Ω–∞ ASCII —Å–∏–º–≤–æ–ª—ã

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- **jsPDF**: 3.0.1 (—Å —É–ª—É—á—à–µ–Ω–Ω–æ–π UTF-8 –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π)
- **jspdf-autotable**: 5.0.2 (–¥–ª—è —Ç–∞–±–ª–∏—Ü)

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `ecotrack-frontend/src/utils/fontGenerator.ts` - –Ω–æ–≤—ã–π
- `ecotrack-frontend/src/App.tsx` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `ecotrack-frontend/src/utils/api.ts` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

### –ú–µ—Ç–æ–¥ —Ä–µ—à–µ–Ω–∏—è:
1. **–ü—Ä—è–º–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è UTF-8 –≤ jsPDF
2. **–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è**: –ê‚ÜíA, –ë‚ÜíB, –í‚ÜíV, –∏ —Ç.–¥.
3. **ASCII fallback**: –ó–∞–º–µ–Ω–∞ –Ω–µ–ø–æ–Ω—è–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ "?"

---

## üéä –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞ —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ PDF –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç:
- ‚úÖ –ù–∞–¥–µ–∂–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ PDF
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
